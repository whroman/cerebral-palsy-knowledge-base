{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Research Note Frontmatter",
  "type": "object",
  "required": ["id", "slug", "title", "year", "type", "authors", "author_short", "tags"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9-]+$",
      "description": "Citation key (e.g., brunton-2020, macs-official, pmc-12345)"
    },
    "slug": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9-]+$",
      "description": "URL slug matching filename (e.g., pubmed-32061920, macs-official)"
    },
    "title": {
      "type": "string",
      "description": "Short title for the research note"
    },
    "pubmed": {
      "type": "integer",
      "description": "PubMed ID"
    },
    "pmcid": {
      "type": "string",
      "pattern": "^PMC[0-9]+$",
      "description": "PubMed Central ID (e.g., PMC1234567)"
    },
    "doi": {
      "type": "string",
      "description": "Digital Object Identifier"
    },
    "nice": {
      "type": "string",
      "description": "NICE guideline ID (e.g., NG119)"
    },
    "url": {
      "type": "string",
      "format": "uri",
      "description": "URL for sources without standard identifiers"
    },
    "year": {
      "type": "integer",
      "minimum": 1900,
      "maximum": 2100,
      "description": "Publication year"
    },
    "type": {
      "type": "string",
      "enum": [
        "systematic-review",
        "meta-analysis",
        "guideline",
        "scoping-review",
        "rct",
        "cohort-study",
        "registry-data",
        "clinical-resource",
        "review",
        "protocol",
        "cross-sectional-study",
        "validation-study",
        "epidemiological-study",
        "qualitative-study"
      ],
      "description": "Type of source (Tier 1 sources only)"
    },
    "journal": {
      "type": "string",
      "description": "Journal or organization name"
    },
    "authors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "description": "List of authors (Last First format)"
    },
    "author_short": {
      "type": "string",
      "description": "Short author for inline citation (e.g., Brunton)"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "description": "Topic tags"
    }
  },
  "anyOf": [
    {"required": ["pubmed"]},
    {"required": ["pmcid"]},
    {"required": ["doi"]},
    {"required": ["nice"]},
    {"required": ["url"]}
  ]
}
